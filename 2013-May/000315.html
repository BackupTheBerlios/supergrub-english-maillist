<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [sgd-en] Detect efi bootloaders
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/supergrub-english/2013-May/index.html" >
   <LINK REL="made" HREF="mailto:supergrub-english%40lists.berlios.de?Subject=Re%3A%20%5Bsgd-en%5D%20Detect%20efi%20bootloaders&In-Reply-To=%3C51841EB2.90208%40users.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000310.html">
   <LINK REL="Next"  HREF="000320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[sgd-en] Detect efi bootloaders</H1>
    <B>Niall Walsh</B> 
    <A HREF="mailto:supergrub-english%40lists.berlios.de?Subject=Re%3A%20%5Bsgd-en%5D%20Detect%20efi%20bootloaders&In-Reply-To=%3C51841EB2.90208%40users.berlios.de%3E"
       TITLE="[sgd-en] Detect efi bootloaders">niallwalsh at users.berlios.de
       </A><BR>
    <I>Fri May  3 22:31:46 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000310.html">[sgd-en] Detect efi bootloaders
</A></li>
        <LI>Next message: <A HREF="000320.html">[sgd-en] Detect efi bootloaders
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#315">[ date ]</a>
              <a href="thread.html#315">[ thread ]</a>
              <a href="subject.html#315">[ subject ]</a>
              <a href="author.html#315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/05/13 19:12, Niall Walsh wrote:
&gt;<i> The idea is that this can detect sane available efi bootloaders
</I>&gt;<i> and offer to chainloader them.   This can be useful if there is a
</I>&gt;<i> problem with efivars or when the board does not offer a
</I>&gt;<i> firmware menu to select amongst available bootloaders.
</I>&gt;<i>
</I>As requested on irc, here is a rewritten version for osdetect.cfg

 From a Debian sid system with grub from experimental you can
get a dual (bios and UEFI) sgrub2 iso once you have grub-pc-bin
and grub-efi-amd64-bin packages installed.   I did it on a efi
booting VM.  The resulting iso was 12M

Again Debian sid, installing ovmf and booting kvm with:
-bios /usr/share/ovmf/OVMF.fd
let's you test UEFI.   In fact it provides a use case for this very
addition as kvm+ovmf loses the efivars when the machine is
shut down.  So you can use sgrub2 with this feature to boot
(though you can also go into the ovmf firmware menu to
choose a file to boot).

Thanks again,

Niall

-------------- next part --------------
A non-text attachment was scrubbed...
Name: osdetect.cfg_detect-efi.diff
Type: text/x-patch
Size: 1165 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/supergrub-english/attachments/20130503/eb54805d/attachment.bin">https://lists.berlios.de/pipermail/supergrub-english/attachments/20130503/eb54805d/attachment.bin</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000310.html">[sgd-en] Detect efi bootloaders
</A></li>
	<LI>Next message: <A HREF="000320.html">[sgd-en] Detect efi bootloaders
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#315">[ date ]</a>
              <a href="thread.html#315">[ thread ]</a>
              <a href="subject.html#315">[ subject ]</a>
              <a href="author.html#315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/supergrub-english">More information about the Supergrub-english
mailing list</a><br>
</body></html>
